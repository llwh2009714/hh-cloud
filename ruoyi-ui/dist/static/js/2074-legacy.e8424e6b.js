"use strict";(self["webpackChunkruoyi"]=self["webpackChunkruoyi"]||[]).push([[2074],{62074:function(r,e,t){t.r(e),t.d(e,{default:function(){return d}});var s=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("el-form",{ref:"form",attrs:{model:r.user,rules:r.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[t("el-input",{attrs:{placeholder:"请输入旧密码",type:"password","show-password":""},model:{value:r.user.oldPassword,callback:function(e){r.$set(r.user,"oldPassword",e)},expression:"user.oldPassword"}})],1),t("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[t("el-input",{attrs:{placeholder:"请输入新密码",type:"password","show-password":""},model:{value:r.user.newPassword,callback:function(e){r.$set(r.user,"newPassword",e)},expression:"user.newPassword"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{attrs:{placeholder:"请确认新密码",type:"password","show-password":""},model:{value:r.user.confirmPassword,callback:function(e){r.$set(r.user,"confirmPassword",e)},expression:"user.confirmPassword"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:r.submit}},[r._v("保存")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:r.close}},[r._v("关闭")])],1)],1)},u=[],n=(t(83515),t(75385)),o={data:function(){var r=this,e=function(e,t,s){r.user.newPassword!==t?s(new Error("两次输入的密码不一致")):s()};return{user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:e,trigger:"blur"}]}}},methods:{submit:function(){var r=this;this.$refs["form"].validate((function(e){e&&(0,n.cO)(r.user.oldPassword,r.user.newPassword).then((function(e){r.$modal.msgSuccess("修改成功")}))}))},close:function(){this.$tab.closePage()}}},a=o,i=t(81656),l=(0,i.A)(a,s,u,!1,null,null,null),d=l.exports},75385:function(r,e,t){t.d(e,{C$:function(){return h},CZ:function(){return d},F4:function(){return w},IK:function(){return n},TK:function(){return i},VM:function(){return m},bz:function(){return l},cO:function(){return p},e8:function(){return c},ed:function(){return P},eg:function(){return f},nu:function(){return a},rr:function(){return y},wz:function(){return o}});var s=t(35720),u=t(78957);function n(r){return(0,s.Ay)({url:"/system/user/list",method:"get",params:r})}function o(r){return(0,s.Ay)({url:"/system/user/"+(0,u.AL)(r),method:"get"})}function a(r){return(0,s.Ay)({url:"/system/user",method:"post",data:r})}function i(r){return(0,s.Ay)({url:"/system/user",method:"put",data:r})}function l(r){return(0,s.Ay)({url:"/system/user/"+r,method:"delete"})}function d(r,e){var t={userId:r,password:e};return(0,s.Ay)({url:"/system/user/resetPwd",method:"put",data:t})}function c(r,e){var t={userId:r,status:e};return(0,s.Ay)({url:"/system/user/changeStatus",method:"put",data:t})}function m(){return(0,s.Ay)({url:"/system/user/profile",method:"get"})}function f(r){return(0,s.Ay)({url:"/system/user/profile",method:"put",data:r})}function p(r,e){var t={oldPassword:r,newPassword:e};return(0,s.Ay)({url:"/system/user/profile/updatePwd",method:"put",params:t})}function w(r){return(0,s.Ay)({url:"/system/user/profile/avatar",method:"post",data:r})}function y(r){return(0,s.Ay)({url:"/system/user/authRole/"+r,method:"get"})}function h(r){return(0,s.Ay)({url:"/system/user/authRole",method:"put",params:r})}function P(){return(0,s.Ay)({url:"/system/user/deptTree",method:"get"})}}}]);